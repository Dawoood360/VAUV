# Motion Planning Package

## Description

This package represents four modules (localization,global planner, local planner and motion control )

* Localization       : determine AUV's place in the 3D space around it and also determines the location of the obstacles and objects surrounding it.

* The Global Planner : give the AUV the ability to plan the correct and feasible path through the starting point to its goal.

* The Local Planner  :generate a set of control commands that‏ moves the AUV on the path generated by the Global Planner but with taking the dynamics into consideration while also trying to avoid obstacles.

* motion control :translate the set of control commands from the Local Planner into actions for the thrusters‏

### License

The source code is released under a [GNU GENERAL PUBLIC LICENSE](https://github.com/VorteX-co/VAUV/blob/master/LICENSE)

**Author: vortex-co<br />
Affiliation: [VorteX-Co](https://vortex-co.com/home)<br />
Maintainer: vortex-co, info@vortex-co.com**

The motion planning  module package has been tested under [ROS2](https://index.ros.org/doc/ros2/) eloquent on Ubuntu 18.04 

## Table of contents
* [Installation](#Installation)
* [Usage](#Usage)
* [Config files](#Config-files)
* [Launch files](#Launch-files)
*  [Nodes](#Nodes)
* [Hardware](#hardware)


## Installation
### Installation from Packages

Open a terminal, clone the repository

     git clone https://github.com/VorteX-co/VAUV.git
    

### Building from Source

#### Dependencies

- [Robot Operating System (ROS)](https://index.ros.org/doc/ros2/) (middleware for robotics),
-  [Colcon](https://index.ros.org/doc/ros2/Tutorials/Colcon-Tutorial/)
	
        sudo apt install python3-colcon-common-extensions

#### Building

To build from source, clone the latest version from this repository into your  workspace and compile the package using

       
     cd ~/$HOME/VAUV/Software/vortex_ws/src/motion_planning/src/
     source /opt/ros/eloquent/setup.bash
     colcon build --symlink-install

Where $HOME is the path you are planning to place the repo in

## Usage
 First go to project location and source it

    cd ~/$HOME/VAUV/Software/vortex_ws/src/motion_planning/src/
    source install/setup.bash

   * Then we can start node by node with

	ros2 run motion_planning class_name

   * or launch file with

	ros2 launch motion_planning launch_file_name.launch.


## Config files


...

## Launch files

...
 
     

## Nodes


### pose_estimation node 
Estimates 3D state of the AUV with the usage of DVl,IMU,point cloud data and visual odometry from the streo camera .


#### Subscribed Topics
* Fused_date

#### Published Topics
* Estimated_pose

#### Services
..


#### Parameters
....

### local_SLAM node    
Generates a series of poses and submaps by scan matching and using a motion filter .
#### Subscribed Topics
* Estimated_pose

#### Published Topics
* Submaps
#### Services

...

#### Parameters
...


### Global_SlAM node  
updates the poses/states from the Local SLAM system and then updates the submaps and create a Global 3D map .

#### Subscribed Topics
* Submaps
#### Published Topics
* Global_3D_map

#### Services
...


#### Parameters
...

### Searching_algorthim node
It is an algorithm used for estimating the best path from starting point to goal point and also validates the generated path(validation rate ).

#### Subscribed Topics


#### Published Topics
* Initial_path

#### Services

...

#### Parameters
...

### Path_smoothing node 
Draws curved turns instead of sharp turns‏ by using a smoothing algorthim and the AUV's local pose.

#### Subscribed Topics
* Initial_path
#### Published Topics
* Smoothed_path
 
#### Services
....

#### Parameters
...

### Obstacle_detection node  

#### Subscribed Topics
....
#### Published Topics
..
## Subnode_processing  

#### Subscribed Topics
...
#### Published Topics
...

### vector_processing node
#### Subscribed Topics
...
#### Published Topics

...
### motion_control node  
Translate the set of control commands from the Local Planner into actions for the thrusters


#### Subscribed Topics
..
#### Published Topics
..
#### Services
...
#### Parameters
...





.
## Hardware
This package access the following hardware:

* Pixhawk4
 

[ROS]: http://www.ros.org
[rviz]: http://wiki.ros.org/rviz
[Eigen]: http://eigen.tuxfamily.org

